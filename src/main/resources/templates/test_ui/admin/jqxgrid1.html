<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/adminlte/default}">
	<!-- Content Wrapper. Contains page content -->
	<div layout:fragment="content" class="content-wrapper">
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<div class="container-fluid">
				<div class="row mb-2">
					<div class="col-sm-6">
						<h1>jqxGrid</h1>
					</div>
					<div class="col-sm-6">
						<ol class="breadcrumb float-sm-right">
							<li class="breadcrumb-item"><a href="#">Home</a></li>
							<li class="breadcrumb-item active">jqxGrid</li>
						</ol>
					</div>
				</div>
			</div><!-- /.container-fluid -->
		</section>

		<!-- Main content -->
		<section class="content">
			<div class="card">
				<div class="card-header">
					<h3 class="card-title">jqxGrid</h3><br/>
					<div>
						<div id='sampleForm' style="width: 420px; height: auto; float: left;"></div>
						<div id='formEvents' style="padding-left: 10px; width: 350px; height: 350px; float: left; overflow: auto;"></div>
					</div>
				</div>
				<!-- /.card-header -->
				<div class="card-body">
					<div id="jqxGrid1"></div>
				</div>
				<!-- /.card-body -->
			</div>
			<!-- /.card -->
		</section>
		<!-- /.content -->
	</div>
	<!-- /.content-wrapper -->

	<th:block layout:fragment="css">
		<link rel="stylesheet" th:href="@{/adminlte/plugins/jqxgrid/jqx.office.css}">
	</th:block>

	<th:block layout:fragment="script">
		<!-- jqxGrid for demo purposes -->
		<script th:src="@{/adminlte/plugins/jqxgrid/demos.js}"></script>
		<script th:src="@{/adminlte/plugins/jqxgrid/generatedata.js}"></script>

		<script>
		  $(function () {
		    createDataTableSorting('#jqxGrid1');

		    var template = [
	                {
	                    bind: 'textBoxValue',
	                    type: 'text',
	                    label: 'Text input',
	                    labelPosition: 'left',
	                    labelWidth: '30%',
	                    align: 'left',
	                    width: '250px',
	                    required: true
	                },
	                {
	                    bind: 'passwordBoxValue',
	                    type: 'password',
	                    label: 'Password input',
	                    labelPosition: 'left',
	                    labelWidth: '30%',
	                    align: 'left',
	                    width: '250px',
	                    required: true
	                },
	                {
	                    bind: 'nubmberBoxValue',
	                    type: 'number',
	                    label: 'Number input',
	                    labelPosition: 'left',
	                    labelWidth: '30%',
	                    align: 'left',
	                    width: '250px',
	                    required: true
	                },
	                {
	                    bind: 'dropdownValue',
	                    type: 'option',
	                    label: 'Drop down list',
	                    labelPosition: 'left',
	                    labelWidth: '30%',
	                    align: 'left',
	                    width: '250px',
	                    required: true,
	                    component: 'jqxDropDownList',
	                    options: [
	                        { label: 'Option 1', value: 'value1' },
	                        { label: 'Option 2', value: 'value2' },
	                        { label: 'Option 3', value: 'value3' }
	                    ]
	                },
	                {
	                    type: 'label',
	                    label: 'Radio buttons:',
	                    rowHeight: '40px',
	                },
	                {
	                    bind: 'radiobuttonValue',
	                    type: 'option',
	                    label: 'Radio buttons',
	                    labelPosition: 'right',
	                    columnWidth: '150px',
	                    align: 'left',
	                    optionslayout: 'horizontal',
	                    options: [
	                        { label: 'Option 1', value: 'value1' },
	                        { label: 'Option 2', value: 'value2' },
	                        { label: 'Option 3', value: 'value3' }
	                    ]
	                },
	                {
	                    type: 'label',
	                    label: 'Boolean options / checkboxes:',
	                    rowHeight: '40px',
	                },
	                {
	                    columns: [
	                        {
	                            columnWidth: '140px',
	                            bind: 'checkboxValue1',
	                            type: 'boolean',
	                            label: 'Checkbox 1',
	                            labelPosition: 'right',
	                            align: 'left',
	                            labelPadding: {left: 0, top: 5, right: 0, bottom: 5}
	                        },
	                        {
	                            columnWidth: '140px',
	                            bind: 'checkboxValue2',
	                            type: 'boolean',
	                            label: 'Checkbox 2',
	                            labelPosition: 'right',
	                            align: 'left',
	                            labelPadding: {left: 0, top: 5, right: 0, bottom: 5}
	                        },
	                        {
	                            columnWidth: '140px',
	                            bind: 'checkboxValue3',
	                            type: 'boolean',
	                            label: 'Checkbox 3',
	                            labelPosition: 'right',
	                            align: 'left',
	                            labelPadding: {left: 0, top: 5, right: 0, bottom: 5}
	                        }
	                    ]
	                }
	            ];


	            var sampleValue = {
	                'textBoxValue': 'text box value',
	                'passwordBoxValue': 'password box',
	                'nubmberBoxValue': 67.44,
	                'dropdownValue': 'value3',
	                'radiobuttonValue': 'value2',
	                'checkboxValue1': false,
	                'checkboxValue2': false,
	                'checkboxValue3': true,
	            };

	            var sampleForm = $('#sampleForm');

	            sampleForm.jqxForm({
	                template: template,
	                value: sampleValue,
	                padding: { left: 10, top: 10, right: 0, bottom: 10 }
	            });

	            sampleValue.checkboxValue2 = true;

	            sampleForm.val(sampleValue);

	            sampleForm.on('formDataChange', function (event) {
	                var args = event.args;
	                var newValue = args.value;
	                var previousValue = args.previousValue;

	                var html = '<h3>Event: formdatachange</h3>';
	                for (var i in newValue) {
	                    var newInputValue = newValue[i];

	                    var previousInputValue = '';
	                    if (previousValue && previousValue[i] !== undefined && previousValue[i] !== newValue[i]) {
	                        previousInputValue = ', <i>previous value</i>: <span style="color:red;">' + previousValue[i] + '</span>';
	                        newInputValue = '<span style="color:green;">' + newInputValue + '</span>';
	                    }

	                    html += "<b>" + i + "</b>: " + newInputValue + previousInputValue + "<br>";
	                }

	                $('#formEvents').html(html);
	            });
		  });

		  function createDataTableSorting(selector) {
		    var source = {
		        localdata: generatedata(85),
		        datatype: "array",
		        datafields: [
		            { name: 'firstname', type: 'string' },
		            { name: 'lastname', type: 'string' },
		            { name: 'productname', type: 'string' },
		            { name: 'quantity', type: 'number' },
		            { name: 'price', type: 'number' },
		            { name: 'total', type: 'number' }
		        ],
		        sortcolumn: 'firstname',
		        sortdirection: 'asc'
		    };
		    var dataAdapter = new $.jqx.dataAdapter(source);
		    // initialization options - validated in typescript
		    // jqwidgets.DataTableOptions has generated TS definition
		    var options = {
		        source: dataAdapter,
		        sortable: true,
		        pageable: true,
		        altRows: true,
		        columns: [
		            { text: 'Name', dataField: 'firstname', width: 200 },
		            { text: 'Last Name', dataField: 'lastname', width: 200 },
		            { text: 'Product', editable: false, dataField: 'productname', width: 180 },
		            { text: 'Quantity', dataField: 'quantity', width: 80, align: 'right', cellsAlign: 'right' },
		            { text: 'Unit Price', dataField: 'price', width: 90, align: 'right', cellsAlign: 'right', cellsFormat: 'c2' },
		            { text: 'Total', dataField: 'total', width: 100, align: 'right', cellsAlign: 'right', cellsFormat: 'c2' }
		        ]
		    };
		    // creates an instance
		    var myDataTable = jqwidgets.createInstance(selector, 'jqxDataTable', options);
		  }
		</script>
	</th:block>
</html>
